# Описание/Концепция 

ПАМЯТКА: Группы событий и режимы дня
=============================================================================
ГРУППЫ СОБЫТИЙ ОТНОСИТЕЛЬНО ТЕКУЩЕГО ВРЕМЕНИ (Current Time = CT):
1. Completed hidden: События между началом текущих суток и startHour.
   (start события < startHour И end события < CT)
2. Completed visible: События которые начались и завершились между startHour и CT.
   (startHour <= start события < CT И end события <= CT)
3. Current: start события < CT < end события
4. Future visible: События, начало которых после CT, и до endHour.
   (CT < start события < endHour)
5. Future hidden: События, время начала которых после endHour и до конца текущих суток.
   (endHour <= start события < конец суток)
--
РЕЖИМЫ ДНЯ:
DayMode = "normal":
  - Сутки начинаются: в 00:00 часов этого дня
  - Сутки заканчиваются: в 00:00 часов следующего дня
--
DayMode = "psychological":
  - Сутки начинаются: в startHour часов этого дня
  - Сутки заканчиваются: в startHour часов следующего дня
--
    пример:
    если DayMode = "psychological" и Сейчас: 09/09/25 01:50 то 
         Сегодня: 08/09/25 09:00 - 09/09/25 09:00"
    если DayMode = "normal" и Сейчас: 09/09/25 01:50 то 
         Сегодня: 09/09/25 00:00 - 10/09/25 00:00"

ВИДИМАЯ СЕТКА (Grid):
- В обоих режимах: от startHour до endHour (или до конца суток в psychological)
- События вне сетки: скрываются и подсчитываются (beforeCount, afterCount)
=============================================================================

# Description/Concept

NOTE: Event groups and day modes
=============================================================================
EVENT GROUPS RELATIVE TO CURRENT TIME (Current Time = CT):
1. Completed hidden: Events between the start of the current day and startHour.
   (event start < startHour AND event end < CT)
2. Completed visible: Events that started and ended between startHour and CT.
   (startHour <= event start < CT AND event end <= CT)
3. Current: event start < CT < event end
4. Future visible: Events whose start is after CT, and before endHour.
   (CT < event start < endHour)
5. Future hidden: Events whose start time is after endHour and before the end of the current day.
   (endHour <= event start < end of day)
--
DAY MODES:
DayMode = "normal":
  - Day starts: at 00:00 hours of this day
  - Day ends: at 00:00 hours of the next day
--
DayMode = "psychological":
  - Day starts: at startHour hours of this day
  - Day ends: at startHour hours of the next day
--
    example:
    if DayMode = "psychological" and Now: 09/09/25 01:50 then
         Today: 08/09/25 09:00 - 09/09/25 09:00"
    if DayMode = "normal" and Now: 09/09/25 01:50 then
         Today: 09/09/25 00:00 - 10/09/25 00:00"

VISIBLE GRID (Grid):
- In both modes: from startHour to endHour (or until the end of the day in psychological)
- Events outside the grid: are hidden and counted (beforeCount, afterCount)
=============================================================================